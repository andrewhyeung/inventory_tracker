<div ng-controller = 'customerController'> 
	<h1> Add a new customer </h1> 
	<form name='usersForm' ng-submit = 'addCustomer()'>
		<div ng-show=isDuplicate()>Name duplicated! Can't add to the database</div> 
		Customer Name: <input name='name' type = 'text' ng-model= 'new_customer.name' ng-minlength='4' ng-maxlength='20' required>
		<input type = 'submit' value='add' ng-disabled = 'usersForm.name.$invalid'>
	</form>

	<input type='text' ng-model = 'filter_name' placeholder = 'filter'>
	<table>
		<thead>
			<tr>
				<th>Customer Name</th>
				<th>Created Date</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat = 'customer in customers | filter : filter_name'>
				<td>{{ customer.name }}</td>
				<td>{{ customer.created_at | date: 'MMMM dd, yyyy' }}</td>
				<td><button ng-click = 'removeCustomer(customer)'>Remove</button></td>
			</tr>
		</tbody>
	</table>

</div> 